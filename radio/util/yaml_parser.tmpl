// generated by generate_yaml.py

//
// Enums first
//

{% for enum in root.get_enums() %}
static const struct YamlIdStr {{ enum.name }}[] = {
  {% for elmt in enum.get_elmts() %}
  {  {{ elmt.value }}, "{{ max_len(elmt.name) }}"  },
  {% endfor %}
  {  0, NULL  }
};
{% endfor %}

//
// Structs last
//

{% for struct in root.get_structs() %}
{% if struct.name.startswith('union_') %}
static const struct YamlNode {{ struct.name }}_elmts[] = {
{% else %}
static const struct YamlNode {{ struct.name }}[] = {
{% endif %}
  {% for elmt in struct.get_elmts() %}
    {% if elmt.type == 'string' %}
  YAML_STRING("{{ max_len(elmt.name) }}", {{elmt.length}}),
    {% elif elmt.type in ['signed','unsigned'] %}
  YAML_{{elmt.type|upper}}( "{{ max_len(elmt.name) }}", {{ elmt.bits }} ),
    {% elif elmt.type == 'enum' %}
  YAML_ENUM("{{ max_len(elmt.name) }}", {{elmt.bits}}, {{elmt.var_type}}),
    {% elif elmt.type == 'struct' %}
  YAML_STRUCT("{{ max_len(elmt.name) }}", {{elmt.bits}}, {{elmt.var_type}}, NULL),
    {% elif elmt.type == 'union' %}
  YAML_UNION("{{ max_len(elmt.name) }}", {{elmt.bits}}, {{elmt.var_type}}_elmts, NULL),
    {% elif elmt.type == 'array' %}
  YAML_ARRAY("{{ max_len(elmt.name) }}", {{elmt.bits // elmt.length}}, {{elmt.length}}, {{elmt.var_type}}, NULL),
    {% else %}
  // name='{{elmt.name}}', type='{{elmt.type}}', bits='{{elmt.bits}}', is_array='{{elmt.is_array}}', var_type='{{elmt.var_type}}', kind='{{elmt.cursor.kind}}' , type.kind='{{elmt.cursor.type.kind}}'
    {% endif %}
  {% endfor %}
  YAML_END
};
{% if struct.name.startswith('union_') and struct.used_in_arrays %}
static const struct YamlNode {{ struct.name }}[] = {
  YAML_UNION("", {{ max_bits(struct) }}, {{ struct.name }}_elmts, NULL),
  YAML_END
};
{% endif %}
{% endfor %}

#define MAX_{{ root_node_name | upper }}_STR_LEN {{ get_max_len() }}